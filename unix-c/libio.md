# 标准IO库

---
标准IO库就是常说的C库，这个库由ISO C标准说明，标准IO库处理很多细节，如分配缓冲区，以优化的块长度执行IO等，标准IO库几十年没有大的改变了，实现很好。

#### 流和FILE对象
文件IO的所有IO函数都是围绕着文件描述符来的，打开一个文件的时候获得一个文件描述符，该描述符标记了这个文件。而标准IO库，则是围绕着流进行，当用标准IO打开或者创建一个文件的时候，我们就把一个流和一个文件相关联。对于ASCII字符集，一个字符用一个字节表示，对于国际字符集，一个字符可以用多个字节表示，即宽字符集。流的定向决定了读写的字符是字节流还是多字节流，创建一个流的时候并没有定向。若在未定向的流上使用单字节函数，则是字节定向，使用多字节函数，则是宽字节定向。只有两个函数可以改变流的定向，freopen和fwide
```
#include<stdio.h>
#include<wchar.h>

int fwide(FILE *fp, int mode);
//宽定向返回正值，字节定向返回负值，未定向返回0
```
fwide并不改变已经定向的流，而且也无出错返回。
当打开一个流时，我们打开了一个FILE对象，指向FILE对象的指针被叫做文件指针。FILE对象包含了管理该流所需要的所有信息，如实际IO的文件描述符，指向缓冲区的指针，缓冲区的长度，当前在缓冲区的字符数以及出错标志等。

#### 标准输入，标准输出，标准错误输出
对于一个进程来说，打开的时候和三个流自动绑定，就是标准输入，标准输出，标准错误输出。可以通过`stdin`,`stdout`,`stderr`引用。他们和文件IO的，`STDIN_FILENO`,`STDOUT_FILENO`,`STDERR_FILENO`对应。